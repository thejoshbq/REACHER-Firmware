<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>REACHER Firmware: operant_FR/Lever_Utils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">REACHER Firmware<span id="projectnumber">&#160;v1.0.1</span>
   </div>
   <div id="projectbrief">Documentation for Arduino-based behavioral experiments</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('Lever__Utils_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Lever_Utils.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="operant__FR_2Lever_8h_source.html">Lever.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="operant__FR_2Cue_8h_source.html">Cue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Cue__Utils_8h_source.html">Cue_Utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="operant__FR_2Pump_8h_source.html">Pump.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Pump__Utils_8h_source.html">Pump_Utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="operant__FR_2Laser_8h_source.html">Laser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Program__Utils_8h_source.html">Program_Utils.h</a>&quot;</code><br />
<code>#include &lt;Arduino.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Lever_Utils.h:</div>
<div class="dyncontent">
<div class="center"><img src="Lever__Utils_8h__incl.png" border="0" usemap="#aoperant__FR_2Lever__Utils_8h" alt=""/></div>
<map name="aoperant__FR_2Lever__Utils_8h" id="aoperant__FR_2Lever__Utils_8h">
<area shape="rect" title=" " alt="" coords="213,5,398,31"/>
<area shape="rect" href="operant__FR_2Lever_8h.html" title="Defines the Lever class for monitoring lever interactions." alt="" coords="478,152,547,177"/>
<area shape="poly" title=" " alt="" coords="390,28,475,47,510,61,532,77,539,92,539,109,529,140,524,139,534,108,534,94,528,80,507,65,473,52,389,33"/>
<area shape="rect" title=" " alt="" coords="272,299,356,324"/>
<area shape="poly" title=" " alt="" coords="213,29,156,36,100,47,54,62,37,71,25,80,14,98,9,115,9,132,14,148,38,179,75,209,120,235,170,258,262,292,260,297,168,263,118,240,72,213,34,183,10,150,4,133,3,114,9,96,21,77,34,66,52,57,99,42,156,31,213,24"/>
<area shape="rect" href="operant__FR_2Cue_8h.html" title="Defines the Cue class for managing a tone&#45;based cue speaker." alt="" coords="198,152,256,177"/>
<area shape="poly" title=" " alt="" coords="263,33,226,51,210,64,197,80,193,94,195,110,210,140,206,142,190,111,188,94,193,77,206,60,223,47,261,28"/>
<area shape="rect" href="Cue__Utils_8h.html" title=" " alt="" coords="35,79,131,104"/>
<area shape="poly" title=" " alt="" coords="271,33,133,77,131,72,269,28"/>
<area shape="rect" href="operant__FR_2Pump_8h.html" title="Defines the Pump class for controlling a pump device." alt="" coords="281,152,352,177"/>
<area shape="poly" title=" " alt="" coords="314,30,330,78,331,110,326,139,321,138,325,110,324,79,309,32"/>
<area shape="rect" href="Pump__Utils_8h.html" title="Utility function for managing pump operation." alt="" coords="206,79,314,104"/>
<area shape="poly" title=" " alt="" coords="301,32,277,69,273,66,296,30"/>
<area shape="rect" href="operant__FR_2Laser_8h.html" title="Defines the Laser class for controlling a laser device." alt="" coords="572,152,640,177"/>
<area shape="poly" title=" " alt="" coords="399,23,478,40,517,56,553,77,580,106,598,138,594,140,576,109,549,81,514,60,476,45,398,28"/>
<area shape="rect" href="Program__Utils_8h.html" title="Utility functions for program control and reward delivery." alt="" coords="390,79,517,104"/>
<area shape="poly" title=" " alt="" coords="331,28,418,70,416,75,328,33"/>
<area shape="rect" href="operant__FR_2Device_8h.html" title="Defines the base Device class for hardware components." alt="" coords="402,225,481,251"/>
<area shape="poly" title=" " alt="" coords="503,180,465,218,461,214,499,176"/>
<area shape="poly" title=" " alt="" coords="516,178,513,214,507,234,496,252,468,275,436,292,402,302,370,309,369,303,401,297,434,287,465,271,492,249,502,232,508,213,511,177"/>
<area shape="poly" title=" " alt="" coords="422,253,348,294,346,289,420,248"/>
<area shape="poly" title=" " alt="" coords="257,173,395,218,393,223,256,178"/>
<area shape="poly" title=" " alt="" coords="236,176,302,285,297,288,232,179"/>
<area shape="poly" title=" " alt="" coords="92,103,138,169,173,210,211,249,244,272,277,290,274,295,241,276,208,253,169,214,134,172,88,106"/>
<area shape="poly" title=" " alt="" coords="107,102,192,143,190,148,105,106"/>
<area shape="poly" title=" " alt="" coords="338,175,411,216,408,221,335,180"/>
<area shape="poly" title=" " alt="" coords="319,178,317,285,312,285,314,178"/>
<area shape="poly" title=" " alt="" coords="238,106,218,120,199,136,187,156,186,166,188,176,207,211,233,242,286,289,283,293,229,246,203,214,183,178,181,166,182,154,195,133,215,115,236,102"/>
<area shape="poly" title=" " alt="" coords="272,103,301,140,297,143,268,106"/>
<area shape="poly" title=" " alt="" coords="580,180,482,222,480,217,578,175"/>
<area shape="poly" title=" " alt="" coords="599,179,567,216,545,236,520,253,483,271,444,286,370,304,369,299,442,281,481,266,518,248,542,232,563,212,595,176"/>
<area shape="poly" title=" " alt="" coords="466,103,496,140,492,143,461,106"/>
<area shape="poly" title=" " alt="" coords="455,105,447,212,441,211,450,104"/>
<area shape="poly" title=" " alt="" coords="448,106,331,288,326,285,444,103"/>
<area shape="poly" title=" " alt="" coords="418,107,270,153,269,148,417,101"/>
<area shape="poly" title=" " alt="" coords="433,106,352,148,350,143,430,102"/>
<area shape="poly" title=" " alt="" coords="479,102,570,144,568,149,477,106"/>
</map>
</div>
</div>
<p><a href="Lever__Utils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad5016dcc0306b5d42a61f9fd73a2a76f" id="r_ad5016dcc0306b5d42a61f9fd73a2a76f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lever__Utils_8h.html#ad5016dcc0306b5d42a61f9fd73a2a76f">pressingDataEntry</a> (<a class="el" href="classLever.html">Lever</a> *&amp;lever, <a class="el" href="classPump.html">Pump</a> *<a class="el" href="Program__Utils_8cpp.html#a7baeb34b0eec2b69efd06c72c013b77c">pump</a>)</td></tr>
<tr class="memdesc:ad5016dcc0306b5d42a61f9fd73a2a76f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs lever press and release events.  <br /></td></tr>
<tr class="separator:ad5016dcc0306b5d42a61f9fd73a2a76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6aa5c3ae89d8f8dda4a7001e2380567" id="r_ad6aa5c3ae89d8f8dda4a7001e2380567"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lever__Utils_8h.html#ad6aa5c3ae89d8f8dda4a7001e2380567">definePressActivity</a> (bool programRunning, <a class="el" href="classLever.html">Lever</a> *&amp;lever, <a class="el" href="classCue.html">Cue</a> *cue, <a class="el" href="classPump.html">Pump</a> *<a class="el" href="Program__Utils_8cpp.html#a7baeb34b0eec2b69efd06c72c013b77c">pump</a>, <a class="el" href="classLaser.html">Laser</a> *<a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a>)</td></tr>
<tr class="memdesc:ad6aa5c3ae89d8f8dda4a7001e2380567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the type of lever press and associated actions.  <br /></td></tr>
<tr class="separator:ad6aa5c3ae89d8f8dda4a7001e2380567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ae7a86148ee9921067cb4271db7ac4" id="r_a93ae7a86148ee9921067cb4271db7ac4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Lever__Utils_8h.html#a93ae7a86148ee9921067cb4271db7ac4">monitorPressing</a> (bool programRunning, <a class="el" href="classLever.html">Lever</a> *&amp;lever, <a class="el" href="classCue.html">Cue</a> *cue, <a class="el" href="classPump.html">Pump</a> *<a class="el" href="Program__Utils_8cpp.html#a7baeb34b0eec2b69efd06c72c013b77c">pump</a>, <a class="el" href="classLaser.html">Laser</a> *<a class="el" href="Laser__Utils_8cpp.html#aa8caff3a540c333384c5af436f68d738">laser</a>)</td></tr>
<tr class="memdesc:a93ae7a86148ee9921067cb4271db7ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Monitors lever pressing with debouncing.  <br /></td></tr>
<tr class="separator:a93ae7a86148ee9921067cb4271db7ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad6aa5c3ae89d8f8dda4a7001e2380567" name="ad6aa5c3ae89d8f8dda4a7001e2380567"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6aa5c3ae89d8f8dda4a7001e2380567">&#9670;&#160;</a></span>definePressActivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void definePressActivity </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>programRunning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLever.html">Lever</a> *&amp;&#160;</td>
          <td class="paramname"><em>lever</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCue.html">Cue</a> *&#160;</td>
          <td class="paramname"><em>cue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPump.html">Pump</a> *&#160;</td>
          <td class="paramname"><em>pump</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLaser.html">Laser</a> *&#160;</td>
          <td class="paramname"><em>laser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the type of lever press and associated actions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programRunning</td><td>Boolean indicating if the program is running. </td></tr>
    <tr><td class="paramname">lever</td><td>Reference to a pointer to the <a class="el" href="classLever.html" title="A subclass of Device representing a lever input device.">Lever</a> object. </td></tr>
    <tr><td class="paramname">cue</td><td>Pointer to the <a class="el" href="classCue.html" title="A subclass of Device representing a cue speaker for tone playback.">Cue</a> object (optional). </td></tr>
    <tr><td class="paramname">pump</td><td>Pointer to the <a class="el" href="classPump.html" title="A subclass of Device representing a pump for infusion delivery.">Pump</a> object (optional). </td></tr>
    <tr><td class="paramname">laser</td><td>Pointer to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser for stimulation.">Laser</a> object (optional).</td></tr>
  </table>
  </dd>
</dl>
<p>Defines the type of lever press and associated actions.</p>
<p>Determines whether a lever press is "ACTIVE", "TIMEOUT", or "INACTIVE" based on timing and device states, and triggers rewards or updates counters accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programRunning</td><td>Boolean indicating if the program is running. </td></tr>
    <tr><td class="paramname">lever</td><td>Reference to a pointer to the <a class="el" href="classLever.html" title="A subclass of Device representing a lever input device.">Lever</a> object being pressed. </td></tr>
    <tr><td class="paramname">cue</td><td>Pointer to the <a class="el" href="classCue.html" title="A subclass of Device representing a cue speaker for tone playback.">Cue</a> object (optional, can be nullptr). </td></tr>
    <tr><td class="paramname">pump</td><td>Pointer to the <a class="el" href="classPump.html" title="A subclass of Device representing a pump for infusion delivery.">Pump</a> object (optional, can be nullptr). </td></tr>
    <tr><td class="paramname">laser</td><td>Pointer to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser for stimulation.">Laser</a> object (optional, can be nullptr). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Lever__Utils_8cpp_source.html#l00054">54</a> of file <a class="el" href="Lever__Utils_8cpp_source.html">Lever_Utils.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Lever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_cgraph.png" border="0" usemap="#aLever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_cgraph" alt=""/></div>
<map name="aLever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_cgraph" id="aLever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_cgraph">
<area shape="rect" title="Defines the type of lever press and associated actions." alt="" coords="5,155,152,180"/>
<area shape="rect" href="Program__Utils_8cpp.html#a887f7b312e448ea678d8f5ca34f220a7" title="Delivers a reward by activating cue, pump, and laser if armed." alt="" coords="265,105,381,131"/>
<area shape="poly" title=" " alt="" coords="142,152,250,130,252,135,143,157"/>
<area shape="rect" href="classCue.html#a46867d656c457a7f3cd8694e8ffe2887" title="Gets the end timestamp of the cue tone." alt="" coords="499,5,668,31"/>
<area shape="poly" title=" " alt="" coords="88,153,131,104,163,77,199,56,271,31,346,17,419,10,485,9,485,14,420,15,347,22,272,36,201,60,166,81,135,107,91,156"/>
<area shape="rect" href="classDevice.html#ad11e00f9c5700db962ed3dede2ef9e0c" title="Checks if the device is armed." alt="" coords="519,55,648,80"/>
<area shape="poly" title=" " alt="" coords="94,152,139,120,168,104,199,91,279,72,361,62,438,59,505,59,505,65,438,64,361,67,280,78,201,97,171,109,142,125,97,157"/>
<area shape="rect" href="classPump.html#a5dbd95afa725d41fab630745c9d088e1" title="Gets the infusion end timestamp." alt="" coords="203,155,442,180"/>
<area shape="poly" title=" " alt="" coords="152,165,189,165,189,170,152,170"/>
<area shape="rect" href="classPump.html#a1f89b1fc0f98a4552ea7d98d77bb662c" title="Gets the infusion start timestamp." alt="" coords="200,204,445,229"/>
<area shape="poly" title=" " alt="" coords="140,178,201,190,243,199,242,204,199,195,139,183"/>
<area shape="rect" href="classCue.html#a88eacb5791fc5f61818815ee66de2a01" title="Gets the start timestamp of the cue tone." alt="" coords="239,253,407,279"/>
<area shape="poly" title=" " alt="" coords="98,178,143,209,201,240,226,248,225,253,199,244,140,214,95,182"/>
<area shape="rect" href="classLever.html#a60f968868323a4ceb47a5d8691606027" title="Sets the press type." alt="" coords="247,303,398,328"/>
<area shape="poly" title=" " alt="" coords="91,179,134,233,165,264,201,289,235,302,233,307,199,294,162,268,130,237,86,182"/>
<area shape="poly" title=" " alt="" coords="349,103,413,73,492,41,519,32,521,37,494,46,416,78,351,108"/>
<area shape="poly" title=" " alt="" coords="381,104,505,80,506,85,382,109"/>
<area shape="rect" href="classPump.html#a8f793fca2594e1747f638488321b8453" title="Sets the infusion period." alt="" coords="493,203,673,228"/>
<area shape="poly" title=" " alt="" coords="381,120,414,128,447,141,462,153,472,165,480,178,495,189,507,195,505,200,492,194,477,181,467,169,458,157,444,146,413,133,380,126"/>
<area shape="rect" href="classCue.html#a08d16c27b2fed86260121c5958214827" title="Sets the end timestamp of the cue tone." alt="" coords="499,252,667,277"/>
<area shape="poly" title=" " alt="" coords="382,117,415,125,447,141,459,153,466,166,472,191,478,216,484,227,495,239,501,243,498,248,492,243,480,230,473,218,467,192,461,168,455,156,444,145,414,130,380,122"/>
<area shape="rect" href="classLaser.html#ac53abb87f05fd2959ee440b7849b2023" title="Sets the stimulation period with a trace interval." alt="" coords="505,104,661,129"/>
<area shape="poly" title=" " alt="" coords="381,115,492,114,492,120,381,120"/>
<area shape="rect" href="classLaser.html#add3f8ed8bb28d95b640869e5c47be1aa" title="Sets the stimulation state." alt="" coords="509,153,658,179"/>
<area shape="poly" title=" " alt="" coords="382,126,501,148,500,153,381,131"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Lever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_icgraph.png" border="0" usemap="#aLever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_icgraph" alt=""/></div>
<map name="aLever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_icgraph" id="aLever__Utils_8h_ad6aa5c3ae89d8f8dda4a7001e2380567_icgraph">
<area shape="rect" title="Defines the type of lever press and associated actions." alt="" coords="181,5,328,31"/>
<area shape="rect" href="Lever__Utils_8cpp.html#a93ae7a86148ee9921067cb4271db7ac4" title="Monitors lever pressing with debouncing and triggers associated actions." alt="" coords="5,5,133,31"/>
<area shape="poly" title=" " alt="" coords="168,21,133,21,133,15,168,15"/>
</map>
</div>

</div>
</div>
<a id="a93ae7a86148ee9921067cb4271db7ac4" name="a93ae7a86148ee9921067cb4271db7ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ae7a86148ee9921067cb4271db7ac4">&#9670;&#160;</a></span>monitorPressing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monitorPressing </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>programRunning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLever.html">Lever</a> *&amp;&#160;</td>
          <td class="paramname"><em>lever</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCue.html">Cue</a> *&#160;</td>
          <td class="paramname"><em>cue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPump.html">Pump</a> *&#160;</td>
          <td class="paramname"><em>pump</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLaser.html">Laser</a> *&#160;</td>
          <td class="paramname"><em>laser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Monitors lever pressing with debouncing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programRunning</td><td>Boolean indicating if the program is running. </td></tr>
    <tr><td class="paramname">lever</td><td>Reference to a pointer to the <a class="el" href="classLever.html" title="A subclass of Device representing a lever input device.">Lever</a> object. </td></tr>
    <tr><td class="paramname">cue</td><td>Pointer to the <a class="el" href="classCue.html" title="A subclass of Device representing a cue speaker for tone playback.">Cue</a> object (optional). </td></tr>
    <tr><td class="paramname">pump</td><td>Pointer to the <a class="el" href="classPump.html" title="A subclass of Device representing a pump for infusion delivery.">Pump</a> object (optional). </td></tr>
    <tr><td class="paramname">laser</td><td>Pointer to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser for stimulation.">Laser</a> object (optional).</td></tr>
  </table>
  </dd>
</dl>
<p>Monitors lever pressing with debouncing.</p>
<p>Continuously checks the lever state, applies debouncing, and handles press/release events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programRunning</td><td>Boolean indicating if the program is running. </td></tr>
    <tr><td class="paramname">lever</td><td>Reference to a pointer to the <a class="el" href="classLever.html" title="A subclass of Device representing a lever input device.">Lever</a> object being monitored. </td></tr>
    <tr><td class="paramname">cue</td><td>Pointer to the <a class="el" href="classCue.html" title="A subclass of Device representing a cue speaker for tone playback.">Cue</a> object (optional, can be nullptr). </td></tr>
    <tr><td class="paramname">pump</td><td>Pointer to the <a class="el" href="classPump.html" title="A subclass of Device representing a pump for infusion delivery.">Pump</a> object (optional, can be nullptr). </td></tr>
    <tr><td class="paramname">laser</td><td>Pointer to the <a class="el" href="classLaser.html" title="A subclass of Device representing a laser for stimulation.">Laser</a> object (optional, can be nullptr). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Lever__Utils_8cpp_source.html#l00111">111</a> of file <a class="el" href="Lever__Utils_8cpp_source.html">Lever_Utils.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Lever__Utils_8h_a93ae7a86148ee9921067cb4271db7ac4_cgraph.png" border="0" usemap="#aLever__Utils_8h_a93ae7a86148ee9921067cb4271db7ac4_cgraph" alt=""/></div>
<map name="aLever__Utils_8h_a93ae7a86148ee9921067cb4271db7ac4_cgraph" id="aLever__Utils_8h_a93ae7a86148ee9921067cb4271db7ac4_cgraph">
<area shape="rect" title="Monitors lever pressing with debouncing." alt="" coords="5,917,133,943"/>
<area shape="rect" href="Lever__Utils_8cpp.html#ad6aa5c3ae89d8f8dda4a7001e2380567" title="Defines the type of lever press and triggers associated actions." alt="" coords="215,219,361,244"/>
<area shape="poly" title=" " alt="" coords="69,917,78,838,97,711,130,558,152,479,179,404,199,360,222,319,267,253,271,256,227,322,204,363,184,406,157,481,135,559,102,712,83,839,74,917"/>
<area shape="rect" href="classDevice.html#ad11e00f9c5700db962ed3dede2ef9e0c" title="Checks if the device is armed." alt="" coords="761,392,891,417"/>
<area shape="poly" title=" " alt="" coords="78,915,119,871,148,847,180,828,218,813,255,804,323,800,386,807,446,819,504,829,562,829,592,824,622,814,654,798,686,776,724,739,754,695,777,647,794,597,814,502,821,431,827,432,820,503,799,599,782,649,758,698,728,743,690,780,656,803,624,819,593,829,563,834,503,834,445,824,385,812,323,805,256,810,220,818,182,832,151,851,122,875,82,919"/>
<area shape="rect" href="classDevice.html#a59d40185f6ee06991eda620994339bc9" title="Gets the pin assigned to the device." alt="" coords="230,843,346,868"/>
<area shape="poly" title=" " alt="" coords="94,915,134,896,180,877,216,867,217,872,182,882,136,900,96,920"/>
<area shape="rect" href="classLever.html#a7cee6289230b71c796493e61345a7b4c" title="Gets the previous lever state." alt="" coords="181,892,395,917"/>
<area shape="poly" title=" " alt="" coords="133,920,168,916,168,921,134,925"/>
<area shape="rect" href="classLever.html#a0d8c9037ea3a4f780133fdd8c399fa2d" title="Gets the stable lever state." alt="" coords="189,941,387,967"/>
<area shape="poly" title=" " alt="" coords="134,934,175,939,175,944,133,940"/>
<area shape="rect" href="Cue__Utils_8cpp.html#a901134c3a67c6efb2830b4bc01521d43" title="Manages the operation of a cue tone based on timestamps." alt="" coords="238,417,338,443"/>
<area shape="poly" title=" " alt="" coords="73,916,115,807,179,653,272,454,277,456,184,655,120,809,78,918"/>
<area shape="rect" href="Pump__Utils_8cpp.html#afbfe7e9690b402f3a3e4cde442d43458" title="Controls pump operation based on infusion timestamps." alt="" coords="232,667,344,692"/>
<area shape="poly" title=" " alt="" coords="77,916,120,858,179,784,261,700,265,703,183,788,124,861,82,919"/>
<area shape="rect" href="Lever__Utils_8cpp.html#ad5016dcc0306b5d42a61f9fd73a2a76f" title="Logs lever press and release data to the serial monitor." alt="" coords="217,991,359,1016"/>
<area shape="poly" title=" " alt="" coords="98,940,182,975,214,985,212,990,180,981,96,945"/>
<area shape="rect" href="classLever.html#a0969ff49b3b7f15f5692e712d377d2d8" title="Sets the release timestamp." alt="" coords="459,1065,671,1091"/>
<area shape="poly" title=" " alt="" coords="83,941,123,984,151,1007,182,1025,247,1048,316,1064,383,1073,446,1077,445,1083,383,1078,315,1069,246,1054,180,1030,148,1011,119,988,79,945"/>
<area shape="rect" href="classLever.html#a67d72dbfd258d8f7eb2710cd4ea8537d" title="Sets the press timestamp." alt="" coords="191,1092,385,1117"/>
<area shape="poly" title=" " alt="" coords="79,941,118,1003,147,1040,183,1070,211,1085,208,1090,180,1075,143,1043,113,1006,75,944"/>
<area shape="rect" href="classLever.html#aa9b03c68cf69748e134a71bd698ebf12" title="Sets the previous lever state." alt="" coords="182,1141,394,1167"/>
<area shape="poly" title=" " alt="" coords="76,942,88,979,109,1030,140,1083,160,1107,183,1128,190,1133,187,1137,180,1132,156,1111,136,1086,104,1032,83,981,71,943"/>
<area shape="rect" href="classLever.html#a4022a8010b37b6cfd640a01b007acee4" title="Sets the stable lever state." alt="" coords="189,1191,387,1216"/>
<area shape="poly" title=" " alt="" coords="75,942,83,987,102,1051,116,1086,134,1120,156,1151,183,1177,189,1182,186,1186,180,1181,152,1154,130,1122,112,1088,97,1053,78,989,70,943"/>
<area shape="rect" href="Program__Utils_8cpp.html#a887f7b312e448ea678d8f5ca34f220a7" title="Delivers a reward by activating cue, pump, and laser if armed." alt="" coords="507,92,623,117"/>
<area shape="poly" title=" " alt="" coords="305,216,364,176,442,134,493,117,495,122,444,139,366,181,308,221"/>
<area shape="rect" href="classCue.html#a46867d656c457a7f3cd8694e8ffe2887" title="Gets the end timestamp of the cue tone." alt="" coords="741,5,911,31"/>
<area shape="poly" title=" " alt="" coords="296,217,318,187,351,149,393,109,441,77,513,48,588,30,661,19,727,15,728,20,662,25,589,35,514,53,444,82,396,113,355,152,322,191,300,220"/>
<area shape="poly" title=" " alt="" coords="313,216,382,187,428,171,478,158,532,151,586,150,639,158,690,179,714,207,748,262,813,378,809,381,743,265,709,210,686,183,638,163,586,155,532,156,479,164,429,176,384,192,315,221"/>
<area shape="rect" href="classPump.html#a5dbd95afa725d41fab630745c9d088e1" title="Gets the infusion end timestamp." alt="" coords="446,243,685,268"/>
<area shape="poly" title=" " alt="" coords="362,235,432,241,432,246,361,240"/>
<area shape="rect" href="classPump.html#a1f89b1fc0f98a4552ea7d98d77bb662c" title="Gets the infusion start timestamp." alt="" coords="443,541,688,567"/>
<area shape="poly" title=" " alt="" coords="301,243,344,310,397,404,409,440,414,472,422,500,431,513,444,527,452,532,449,536,441,531,427,516,417,502,409,473,404,442,392,406,340,313,296,246"/>
<area shape="rect" href="classCue.html#a88eacb5791fc5f61818815ee66de2a01" title="Gets the start timestamp of the cue tone." alt="" coords="481,292,649,317"/>
<area shape="poly" title=" " alt="" coords="328,242,443,277,485,287,483,292,442,282,326,247"/>
<area shape="rect" href="classLever.html#a60f968868323a4ceb47a5d8691606027" title="Sets the press type." alt="" coords="490,193,641,219"/>
<area shape="poly" title=" " alt="" coords="361,222,476,211,477,217,362,227"/>
<area shape="poly" title=" " alt="" coords="598,89,735,39,761,32,762,37,737,45,600,94"/>
<area shape="poly" title=" " alt="" coords="625,107,659,117,690,135,711,159,721,182,727,208,738,238,813,379,809,382,734,240,722,210,715,184,706,161,686,139,656,121,623,112"/>
<area shape="rect" href="classPump.html#a8f793fca2594e1747f638488321b8453" title="Sets the infusion period." alt="" coords="736,203,916,228"/>
<area shape="poly" title=" " alt="" coords="624,110,658,120,689,134,705,148,714,162,723,175,738,188,752,195,749,200,734,192,719,179,710,165,701,151,687,139,656,124,623,115"/>
<area shape="rect" href="classCue.html#a08d16c27b2fed86260121c5958214827" title="Sets the end timestamp of the cue tone." alt="" coords="742,55,910,80"/>
<area shape="poly" title=" " alt="" coords="624,94,728,79,729,84,624,99"/>
<area shape="rect" href="classLaser.html#ac53abb87f05fd2959ee440b7849b2023" title="Sets the stimulation period with a trace interval." alt="" coords="748,104,904,129"/>
<area shape="poly" title=" " alt="" coords="624,105,734,110,734,115,624,110"/>
<area shape="rect" href="classLaser.html#add3f8ed8bb28d95b640869e5c47be1aa" title="Sets the stimulation state." alt="" coords="751,153,901,179"/>
<area shape="poly" title=" " alt="" coords="621,115,758,148,757,153,620,120"/>
<area shape="poly" title=" " alt="" coords="338,425,747,406,748,411,338,430"/>
<area shape="poly" title=" " alt="" coords="303,415,361,371,400,347,442,326,467,317,469,322,444,331,403,351,364,376,306,419"/>
<area shape="rect" href="classCue.html#a7584bb7230e8d35e7b7efac844f253c1" title="Turns the cue tone off." alt="" coords="529,443,601,468"/>
<area shape="poly" title=" " alt="" coords="339,432,516,448,515,453,338,437"/>
<area shape="rect" href="classCue.html#a1cf431fb8dd6c2e44b8cee6a7f68e748" title="Turns the cue tone on." alt="" coords="530,492,601,517"/>
<area shape="poly" title=" " alt="" coords="326,440,443,477,517,493,516,499,442,482,325,445"/>
<area shape="rect" href="classCue.html#a7e882b97dd009f12c3cbc922dfbc2d35" title="Sets the running state of the cue." alt="" coords="501,341,629,367"/>
<area shape="poly" title=" " alt="" coords="332,415,442,383,501,368,502,373,443,389,334,420"/>
<area shape="poly" title=" " alt="" coords="344,675,430,671,531,662,624,647,660,637,687,625,712,605,735,582,772,528,798,474,815,430,820,431,803,476,776,530,739,585,716,609,689,630,662,642,625,653,531,668,431,676,344,681"/>
<area shape="poly" title=" " alt="" coords="303,664,361,620,400,596,442,576,464,568,466,573,444,580,403,601,364,625,306,669"/>
<area shape="rect" href="classPump.html#acbf91dd23dcce4c5462267a02ca4b738" title="Turns the pump off." alt="" coords="523,741,607,767"/>
<area shape="poly" title=" " alt="" coords="326,690,443,726,511,741,509,747,442,731,325,695"/>
<area shape="rect" href="classPump.html#a0230c8879d5639f69d34d10d6247a982" title="Turns the pump on." alt="" coords="524,591,607,616"/>
<area shape="poly" title=" " alt="" coords="332,664,442,633,509,615,511,620,443,638,334,669"/>
<area shape="rect" href="classPump.html#a9d36edd070844842cfd4834a35de1591" title="Sets the pump running state." alt="" coords="495,692,635,717"/>
<area shape="poly" title=" " alt="" coords="345,682,482,694,481,700,344,687"/>
<area shape="rect" href="classLever.html#a0c95a59bf6bdef44598256ded97ec718" title="Gets the lever orientation." alt="" coords="485,967,645,992"/>
<area shape="poly" title=" " alt="" coords="359,995,471,985,471,990,360,1000"/>
<area shape="rect" href="classLever.html#a127dd231796aa33fe006c6382ac0ccc3" title="Gets the press timestamp." alt="" coords="467,1016,663,1041"/>
<area shape="poly" title=" " alt="" coords="360,1007,454,1016,453,1021,359,1012"/>
<area shape="rect" href="classLever.html#a2aa2b14bd718f7cbe35c668ec8a2fa00" title="Gets the press type." alt="" coords="489,868,641,893"/>
<area shape="poly" title=" " alt="" coords="358,992,393,976,409,959,416,940,424,921,441,902,475,887,477,892,444,907,428,924,421,942,413,962,396,980,361,997"/>
<area shape="rect" href="classLever.html#a4f7d3a7e6a240aa66af53ec3d8fe23eb" title="Gets the release timestamp." alt="" coords="459,917,672,943"/>
<area shape="poly" title=" " alt="" coords="352,988,394,976,417,963,442,952,470,943,471,948,444,956,420,968,396,980,353,993"/>
<area shape="poly" title=" " alt="" coords="335,1014,396,1033,443,1051,477,1060,475,1065,442,1057,394,1038,333,1019"/>
</map>
</div>

</div>
</div>
<a id="ad5016dcc0306b5d42a61f9fd73a2a76f" name="ad5016dcc0306b5d42a61f9fd73a2a76f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5016dcc0306b5d42a61f9fd73a2a76f">&#9670;&#160;</a></span>pressingDataEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pressingDataEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLever.html">Lever</a> *&amp;&#160;</td>
          <td class="paramname"><em>lever</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPump.html">Pump</a> *&#160;</td>
          <td class="paramname"><em>pump</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs lever press and release events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lever</td><td>Reference to a pointer to the <a class="el" href="classLever.html" title="A subclass of Device representing a lever input device.">Lever</a> object. </td></tr>
    <tr><td class="paramname">pump</td><td>Pointer to the <a class="el" href="classPump.html" title="A subclass of Device representing a pump for infusion delivery.">Pump</a> object (optional).</td></tr>
  </table>
  </dd>
</dl>
<p>Logs lever press and release events.</p>
<p>Records the press and release timestamps of a lever, adjusted by the program start time if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lever</td><td>Reference to a pointer to the <a class="el" href="classLever.html" title="A subclass of Device representing a lever input device.">Lever</a> object being monitored. </td></tr>
    <tr><td class="paramname">pump</td><td>Pointer to the <a class="el" href="classPump.html" title="A subclass of Device representing a pump for infusion delivery.">Pump</a> object (optional, can be nullptr). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="Lever__Utils_8cpp_source.html#l00027">27</a> of file <a class="el" href="Lever__Utils_8cpp_source.html">Lever_Utils.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Lever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_cgraph.png" border="0" usemap="#aLever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_cgraph" alt=""/></div>
<map name="aLever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_cgraph" id="aLever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_cgraph">
<area shape="rect" title="Logs lever press and release events." alt="" coords="5,104,148,129"/>
<area shape="rect" href="classLever.html#a0c95a59bf6bdef44598256ded97ec718" title="Gets the lever orientation." alt="" coords="223,5,383,31"/>
<area shape="poly" title=" " alt="" coords="93,102,137,71,195,40,216,32,218,37,197,44,140,75,96,106"/>
<area shape="rect" href="classLever.html#a127dd231796aa33fe006c6382ac0ccc3" title="Gets the press timestamp." alt="" coords="205,55,401,80"/>
<area shape="poly" title=" " alt="" coords="135,101,230,80,231,86,136,107"/>
<area shape="rect" href="classLever.html#a2aa2b14bd718f7cbe35c668ec8a2fa00" title="Gets the press type." alt="" coords="227,104,379,129"/>
<area shape="poly" title=" " alt="" coords="148,114,213,114,213,119,148,119"/>
<area shape="rect" href="classLever.html#a4f7d3a7e6a240aa66af53ec3d8fe23eb" title="Gets the release timestamp." alt="" coords="196,153,409,179"/>
<area shape="poly" title=" " alt="" coords="136,127,231,148,230,153,135,132"/>
<area shape="rect" href="classLever.html#a0969ff49b3b7f15f5692e712d377d2d8" title="Sets the release timestamp." alt="" coords="197,203,409,228"/>
<area shape="poly" title=" " alt="" coords="96,127,140,157,197,188,222,196,220,201,195,192,138,162,93,132"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Lever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_icgraph.png" border="0" usemap="#aLever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_icgraph" alt=""/></div>
<map name="aLever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_icgraph" id="aLever__Utils_8h_ad5016dcc0306b5d42a61f9fd73a2a76f_icgraph">
<area shape="rect" title="Logs lever press and release events." alt="" coords="181,5,324,31"/>
<area shape="rect" href="Lever__Utils_8cpp.html#a93ae7a86148ee9921067cb4271db7ac4" title="Monitors lever pressing with debouncing and triggers associated actions." alt="" coords="5,5,133,31"/>
<area shape="poly" title=" " alt="" coords="168,21,133,21,133,15,168,15"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1d2fa425cce109437d907f67a1bee3f4.html">operant_FR</a></li><li class="navelem"><a class="el" href="Lever__Utils_8h.html">Lever_Utils.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
